import{u as h,a as f,r as m,j as e,L as w}from"./index-BvOHPX48.js";const j=()=>{const c=h(),{login:u}=f(),[a,p]=m.useState({email:"",password:""}),[n,l]=m.useState({}),g=()=>{const s={};return a.email?/\S+@\S+\.\S+/.test(a.email)||(s.email="Please enter a valid email"):s.email="Email is required",a.password?a.password.length<6&&(s.password="Password must be at least 6 characters"):s.password="Password is required",l(s),Object.keys(s).length===0},x=async s=>{var o,d;if(s.preventDefault(),!!g())try{const t=await u(a.email,a.password);c(t.role==="ADMIN"?"/admin":"/",{replace:!0})}catch(t){const r=(d=(o=t==null?void 0:t.response)==null?void 0:o.data)==null?void 0:d.message;l({general:Array.isArray(r)?r[0]:r||"Invalid email or password"})}},i=s=>{p({...a,[s.target.name]:s.target.value})};return e.jsx("div",{className:"container mx-auto px-4 py-8 flex justify-center items-center min-h-[80vh]",children:e.jsxs("div",{className:"w-full max-w-md bg-indigo-900/30 p-8 rounded-lg shadow-lg",children:[e.jsx("h1",{className:"text-3xl font-bold mb-6 text-center",children:"Login"}),e.jsxs("form",{onSubmit:x,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium mb-1",children:"Email"}),e.jsx("input",{type:"email",id:"email",name:"email",value:a.email,onChange:i,className:"w-full px-3 py-2 bg-indigo-900/50 rounded-lg focus:ring-2 focus:ring-purple-400 outline-none",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium mb-1",children:"Password"}),e.jsx("input",{type:"password",id:"password",name:"password",value:a.password,onChange:i,className:"w-full px-3 py-2 bg-indigo-900/50 rounded-lg focus:ring-2 focus:ring-purple-400 outline-none",required:!0})]}),e.jsx("button",{type:"submit",className:"w-full bg-purple-600 hover:bg-purple-700 py-2 px-4 rounded-lg transition-colors",children:"Login"}),n.general&&e.jsx("p",{className:"text-red-400 text-sm text-center",children:n.general})]}),e.jsxs("p",{className:"mt-4 text-center",children:["Don't have an account?"," ",e.jsx(w,{to:"/signup",className:"text-purple-400 hover:text-purple-300",children:"Sign Up"})]})]})})};export{j as default};
